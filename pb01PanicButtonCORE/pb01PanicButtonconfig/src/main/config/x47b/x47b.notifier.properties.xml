<?xml version="1.0" encoding="UTF-8"?>
<notifier>
	<!-- Proxy settings (needed for Google & Twilio REST APIs) -->
	<proxy enabled='false'>
		<host></host>
		<user></user>
		<password></password>
	</proxy>

	<!-- Notifiers config -->
	<notifiers>
		<log enabled="false"/>
		<mail enabled="false">
			<from>user@mydomain.com</from>
			<msgTemplate>x47b/notifier/X47BMailMessageTemplate.vm</msgTemplate>
			<msgHeaderImage>x47b/notifier/x47bLogo.gif</msgHeaderImage>
		</mail>
		<messaging enabled="false">
			<impl>latinia</impl>	<!-- latinia / twilio -->
			<msgTemplate>x47b/notifier/X47BMessagingTemplate.vm</msgTemplate>
		</messaging>
		<voice enabled="true">
			<twmlUrl>https://dl.dropboxusercontent.com/u/1264561/testTwilioTWML.xml</twmlUrl>	<!-- ie: http://demo.twilio.com/docs/voice.xml -->
			<msgTemplate>x47b/notifier/X47BVoiceTemplate.vm</msgTemplate>
		</voice>
	</notifiers>

	<!-- JavaMail sender config -->
	<javaMailSenderImpls active="google_API">
		<javaMailSenderImpl id='smtp'>
			<host>mail_server</host>
		</javaMailSenderImpl>
		<javaMailSenderImpl id='google_API'>
			<!--
			 A google API [Service Account] is used in order to avoid end-user interaction (server-to-server)
 			 To set-up a [Service Account] client ID: (see http://stackoverflow.com/questions/29327846/gmail-rest-api-400-bad-request-failed-precondition/29328258#29328258)
 				1.- Using a google apps user open the developer console
 				2.- Create a new project (ie MyProject)
 				3.- Go to [Apis & auth] > [Credentials] and create a new [Service Account] client ID
 				4.- Copy the [service account]'s [Client ID] (the one like xxx.apps.googleusercontent.com) for later use
 				5.- Now you have to Delegate domain-wide authority to the service account in order to authorize your appl to access user data on behalf of users in the Google Apps domain
 				    ... so go to your google apps domain admin console
				6.- Go to the [Security] section and find the [Advanced Settings] (it might be hidden so you'd have to click [Show more..])
 				7.- Click con [Manage API Client Access]
 				8.- Paste the [Client ID] you previously copied at [4] into the [Client Name] text box.
 				9.- To grant your app full access to gmail, at the [API Scopes] text box enter: https://mail.google.com, https://www.googleapis.com/auth/gmail.compose, https://www.googleapis.com/auth/gmail.modify, https://www.googleapis.com/auth/gmail.readonly
 					(it's very important that you enter ALL the scopes)
			-->
			<serviceAccountClientID>xxx.apps.googleusercontent.com</serviceAccountClientID>
			<serviceAccountEmailAddress>xxx@developer.gserviceaccount.com</serviceAccountEmailAddress>
			<p12Key loadedUsing='classPath'>x47b/notifier/googleServiceAccount.p12</p12Key>	<!-- change to fileSystem if the p12 file is found at the fileSystem -->
			<googleAppsUser>admin@mydomain</googleAppsUser>
		</javaMailSenderImpl>
	</javaMailSenderImpls>

	<!-- LATINIA Notifier -->
	<latinia>
		<wsURL>http://svc.extra.integracion.jakina.ejiedes.net/ctxapp/W91dSendSms?WSDL</wsURL>
		<authentication>
			<enterprise>
				<login>XXX</login>
				<user>XXX</user>
				<password>XXX</password>
			</enterprise>
			<clientApp>
				<productId>XXX</productId>
				<contractId>XXX</contractId>
				<password>XXX</password>
		  </clientApp>
		</authentication>
	</latinia>

	<!-- Twilio notifier -->
	<twilio>
		<accountSID>XXX</accountSID>
		<authToken>XXX</authToken>
		<voicePhoneNumber>XXX</voicePhoneNumber>
		<!-- <messagingPhoneNumber>XXX</messagingPhoneNumber> -->	<!-- no messaging phone number available -->
	</twilio>
</notifier>
